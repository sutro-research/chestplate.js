(function(){var t={}.hasOwnProperty,e=function(e,n){function o(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return o.prototype=n.prototype,e.prototype=new o,e.__super__=n.prototype,e};window.Chestplate={},Chestplate.BaseModel=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.localAttributes=[],n.prototype.persistedAttributes=function(){return _.omit(_.clone(this.attributes),this.localAttributes)},n.prototype.parse=function(t){return null!=this.modelName&&this.wrapJSON===!0?t[this.modelName]:t},n.prototype.get=function(t){var e;return e=n.__super__.get.call(this,t),_.isFunction(e)?e.call(this):e},n.prototype.toJSON=function(){var t,e,n,o,r;t={},r=this.persistedAttributes();for(n in r)o=r[n],t[n]=_.isFunction(o)?this.get(n):o;return null!=this.modelName&&this.wrapJSON===!0?(e={},e[this.modelName]=t,e):t},n.prototype.save=function(t){var e,o;return null==t&&(t={}),o=t.success||function(){},e=t.error||function(){},n.__super__.save.call(this,this.persistedAttributes(),{success:function(t,e){return o(t,e)},error:function(t,n){return e(t,n)}})},n}(Backbone.Model),Chestplate.BasePresenter=function(){function t(t){if(null==t&&(t={}),null==t.model&&null==t.collection)throw"Presenter must be initialized with a model or collection";null!=t.model&&(this.model=t.model),null!=t.collection&&(this.collection=t.collection),this.initialize()}return t.prototype.initialize=function(){},t.prototype.partial=function(t,e){var n;return null==e&&(e=this),n=JST[t],n(e)},t}(),Chestplate.BaseView=function(t){function n(t){null==t&&(t={}),n.__super__.constructor.call(this,t),null!=this.modelBindings&&this._bindModelEvents()}return e(n,t),n.prototype.template=function(){},n.prototype.render=function(){var t,e;return t=null!=this.presenter?(e=new this.presenter({model:this.model}),this.template(e)):this.template(this),this.$el.html(t),this},n.prototype._bindModelEvents=function(){var t,e,n,o,r,i,s,l,u=this;i=this.modelBindings,l=[];for(t in i)o=i[t],n=/^(\S+)\s*(.*)$/,s=t.match(n),e=s[0],r=s[1],l.push(this.$el.on(e,r,function(){var t,e;return t=u.$(r),e=function(){switch(t.prop("type")){case"text":return t.val();case"select-one":return t.find("option:selected").val();default:return null}}(),u.model.set(o,e)}));return l},n}(Backbone.View)}).call(this);